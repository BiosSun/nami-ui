(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{89:function(n,e,t){"use strict";t.r(e),t.d(e,"frontMatter",(function(){return l})),t.d(e,"metadata",(function(){return i})),t.d(e,"toc",(function(){return u})),t.d(e,"default",(function(){return c}));var r=t(4),a=t(8),o=(t(0),t(94)),l={id:"use-slider",title:"useSlider",subtitle:"\u6ed1\u52a8\u4ea4\u4e92"},i={unversionedId:"use-slider",id:"use-slider",isDocsHomePage:!1,title:"useSlider",description:"\u63d0\u4f9b\u4e00\u5957\u6ed1\u52a8\u4ea4\u4e92\u903b\u8f91\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u5927\u591a\u6570\u7684\u6ed1\u52a8\u7ec4\u4ef6\uff0c\u7c7b\u4f3c \u6ed1\u5757 \u6216 \u65cb\u7ebd \u7b49\u3002",source:"@site/docs/use-slider.md",slug:"/use-slider",permalink:"/docs/use-slider",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/use-slider.md",version:"current",sidebar:"docs",previous:{title:"TextBox",permalink:"/docs/textbox"}},u=[],s={toc:u};function c(n){var e=n.components,t=Object(a.a)(n,["components"]);return Object(o.b)("wrapper",Object(r.a)({},s,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"\u63d0\u4f9b\u4e00\u5957\u6ed1\u52a8\u4ea4\u4e92\u903b\u8f91\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u5927\u591a\u6570\u7684\u6ed1\u52a8\u7ec4\u4ef6\uff0c\u7c7b\u4f3c \u6ed1\u5757 \u6216 \u65cb\u7ebd \u7b49\u3002"),Object(o.b)("p",null,"\u4e00\u4e2a\u5b8c\u6574\u7684 slider \u5e94\u81f3\u5c11\u5305\u542b\u5982\u4e0b\u4e09\u4e2a\u5143\u7d20\uff1a"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"\u5bb9\u5668\uff08root\uff09\uff1a\u5305\u542b\u5176\u5b83\u6240\u6709\u5143\u7d20\uff0c\u54cd\u5e94\u6307\u9488\u3001\u6eda\u8f6e\u53ca\u952e\u76d8\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u83b7\u53d6\u7126\u70b9\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u6ed1\u8f68\uff08rail\uff09\uff1a\u7528\u4e8e\u9650\u5b9a\u6ed1\u5757\u7684\u6ed1\u52a8\u533a\u57df\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u6ed1\u5757\uff08thumb\uff09\uff1a\u6307\u793a\u5f53\u524d\u6ed1\u52a8\u4f4d\u7f6e\u53ca\u6ed1\u52a8\u72b6\u6001\u3002")),Object(o.b)("p",null,"\u5982\u4e0b\u6240\u793a\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-jsx"},"import clsx from 'clsx'\nimport styles from './demo.scss'\n\nimport { useSlider } from '@nami-ui/use-slider'\n\nexport default () => {\n  const [values, setValues] = useState(() => [0, 1])\n\n  const slider = useSlider({\n    value: values,\n    setValue: setValues,\n    moving: (info) => info.px,\n  })\n\n  return (\n    <div\n      {...slider.rootProps}\n      style={{\n        width: '100%',\n        height: 40,\n        background: '#ddd',\n      }}\n    >\n      <div\n        {...slider.railProps}\n        style={{\n          height: 40,\n          margin: '0 20px',\n          position: 'relative',\n        }}\n      >\n        {values.map((value, index) => (\n          <div\n            key={index}\n            {...slider.thumbProps}\n            style={{\n              width: 40,\n              height: 40,\n              transform: 'translate(-20px, -19px)',\n              position: 'absolute',\n              top: 0,\n              left: value * 100 + '%',\n              background:\n                slider.thumb === index ? '#000' : '#777',\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"useSlider")," \u6240\u63a5\u6536\u53c2\u6570\u53ca\u8fd4\u56de\u503c\u7c7b\u578b\u5b9a\u4e49\u5982\u4e0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-typescript"},"interface useSlider {\n    (props: UseSliderProps): Slider\n}\n\ninterface UseSliderProps {\n    // \u4e00\u7ec4\u503c\uff0c\u5206\u522b\u5bf9\u5e94\u6bcf\u4e2a\u6ed1\u5757\n    value: Value\n    // \u8bbe\u7f6e\u503c\n    setValue: React.Dispatch<React.SetStateAction<Value>>\n\n    // \u6570\u8f74\n    axis: Axis | { [prop: string]: Axis }\n\n    // \u662f\u5426\u7981\u7528\n    disabled: boolean\n\n    // \u5904\u7406\u6307\u9488\uff08\u9f20\u6807\u3001\u624b\u6307\uff09\u62d6\u62fd\u4e8b\u4ef6\n    moving: (event: MovingEvent) => ValuePatch\n\n    // \u5904\u7406\u6eda\u8f6e\u4e8b\u4ef6\n    wheel?: (event: WheelEvent) => ValuePatch\n\n    // \u5feb\u6377\u952e\n    hotkeys?: Hotkey[]\n}\n\ninterface Slider {\n    // \u9700\u8981\u5206\u522b\u6ce8\u5165\u5230\u5bf9\u5e94\u5143\u7d20\u4e0a\u7684\u5c5e\u6027\n    rootProps: HTMLAttributes<HTMLElement>\n    railProps: HTMLAttributes<HTMLElement>\n    thumbProps: HTMLAttributes<HTMLElement>\n\n    // \u662f\u5426\u5728\u6ed1\u52a8\u4e2d\n    sliding: boolean\n\n    // \u5f53\u524d\u6b63\u5728\u6ed1\u52a8\u7684\u6ed1\u5757\u7d22\u5f15\n    thumb: number | undefined\n}\n\n// \u6bcf\u4e2a\u6ed1\u5757\u7684\u503c\uff1b\u53ef\u4ee5\u662f\u5355\u4e2a\u6570\u503c\uff0c\u5982\uff1a`[0, 1]`\uff0c\n// \u4e5f\u53ef\u4ee5\u662f\u5305\u542b\u4e00\u7ec4\u6570\u503c\u7684\u5bf9\u8c61\uff0c\u5982\uff1a`[ { x: 0, y: 0 }, { x: 1, y: 1 } ]`\ntype Value = number[] | { [prop: string]: number }[]\n\n// \u6570\u8f74\uff0c\u7528\u4e8e\u9650\u5b9a\u6ed1\u5757\u5728\u67d0\u4e2a\u65b9\u5411\u4e0a\u7684\u6570\u503c\uff1b\u82e5\u6ed1\u5757\u503c\u4e3a\u5355\u4e2a\u6570\u503c\uff0c\u5219\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u6570\u8f74\uff0c\n// \u800c\u82e5\u662f\u5305\u542b\u4e00\u7ec4\u6570\u503c\u7684\u5bf9\u8c61\uff0c\u5219\u65e2\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u901a\u7528\u6570\u8f74\uff0c\u4e5f\u53ef\u4ee5\u5206\u522b\u4e3a\u6bcf\u4e2a\u6570\u503c\u5c5e\u6027\u6307\u5b9a\u5bf9\u5e94\u7684\u6570\u8f74\uff0c\n// \u5982\uff1a{ x: { min: 0, max: 100 }, y: { min: 0, max: 60 }  }\ninterface Axis {\n    // \u6700\u5c0f\u503c\n    min: number\n\n    // \u6700\u5927\u503c\n    max: number\n\n    // \u6b65\u957f\n    step?: number\n\n    // \u989d\u5916\u6570\u503c\u70b9\n    points?: number[]\n}\n\n// \u7528\u4e8e\u66f4\u65b0\u6ed1\u5757\u503c\uff0c\u9700\u8981\u5728\u4e8b\u4ef6\u5904\u7406\u5668\u4e2d\u8fd4\u56de\x06\uff0c\u5982\uff1a\n// - \u66f4\u65b0\u5230\u6307\u5b9a\u6570\u503c\uff1a`0.2`\uff0c\u6216 `{ x: 0.2 }`\uff1b\n// - \u66f4\u65b0\u5230\u4e0b\u4e00\u4e2a\u6216\u4e0a\u4e00\u4e2a\u503c\uff1a`'next'` \u6216 `{ x: 'prev' }`\uff1b\n// - \u5728\u5f53\u524d\u503c\u7684\u57fa\u7840\u4e0a\u52a0\u51cf\u6307\u5b9a\u503c\uff1a`'+0.2'`\uff0c\u6216 `{ x: '-0.2' }`\uff1b\n// - \u81ea\u5b9a\u4e49\u66f4\u65b0\uff0c\u5982\uff1a`prevValue => prevValue / 2` \u6216 `prevValue => ( { x: prevValue.x / 2 } )`\ntype ValuePatch =\n    | number\n    | 'prev' | 'next' | string\n    | { [prop: string]: number | 'prev' | 'next' | string }\n    | (value: Value) => Value\n\n// \u6307\u9488\u62d6\u62fd\u4e8b\u4ef6\ninterface MovingEvent {\n    // \u6307\u9488\u76f8\u5bf9\u4e8e\u8f68\u9053\u5143\u7d20\u7684\u5750\u6807\u4f4d\u7f6e\n    x: number\n    y: number\n    breakX: number\n    breakY: number\n\n    // \u6307\u9488\u76f8\u5bf9\u4e8e\u8f68\u9053\u5143\u7d20\u7684\u4f4d\u7f6e\u767e\u5206\u6bd4\n    px: number\n    py: number\n    breakPX: number\n    breakPY: number\n\n    // \u6307\u9488\u79fb\u52a8\u65b9\u5411\n    dirX: 'left' | 'right'\n    dirY: 'up' | 'down'\n\n    // \u6307\u9488\u79fb\u52a8\u901f\u5ea6\n    velocity: number\n}\n\n// \u6eda\u8f6e\u4e8b\u4ef6\ninterface WheelEvent {\n    // \u6eda\u8f6e\u6eda\u52a8\u503c\n    deltaX: number\n    deltaY: number\n    deltaZ: number\n\n    // \u4fee\u9970\u952e\n    altKey: boolean\n    ctrlKey: boolean\n    metaKey: boolean\n    shiftKey: boolean\n}\n\n// \u5feb\u6377\u952e\u4e8b\u4ef6\ninterface Hotkey {\n    // \u9700\u8981\u76d1\u542c\u7684\u5feb\u6377\u952e\uff0c\u5982\uff1a `a, ctrl-a`\uff08\u7279\u6b8a\u503c `ANY`\uff0c\u7528\u4e8e\u76d1\u542c\u4efb\u610f\u5feb\u6377\u952e\uff09\n    keys: string\n\n    // \u53ef\u9009\u4fee\u9970\u952e\uff0c\u5982 `{ key: 'ctrl-a', shift: true }` \u8868\u793a\u76d1\u542c\u5feb\u6377\u952e `ctrl-a` \u53ca `ctrl-shift-a`\u3002\n    shift?: boolean\n    ctrl?: boolean\n    meta?: boolean\n    alt?: boolean\n\n    // \u4e8b\u4ef6\u5904\u7406\u51fd\u6570\n    handle: (eventData: HotkeyEvent) => ValuePatch | void\n}\n\ninterface HotkeyEvent {\n    // \u7528\u6237\u6240\u6309\u4e0b\u7684\u5feb\u6377\u952e\uff0c\u5bf9\u5e94\u5728 Hotkey.keys \u4e2d\u914d\u7f6e\u7684\u67d0\u4e2a\u5feb\u6377\u952e\n    readonly key: string\n\n    /** \u4fee\u9970\u952e */\n    readonly ctrl: boolean\n    readonly shift: boolean\n    readonly meta: boolean\n    readonly alt: boolean\n\n    // \u505c\u6b62\u4e8b\u4ef6\u4f20\u64ad\n    readonly stopPropagation: () => void\n\n    // \u963b\u6b62\u4e8b\u4ef6\u9ed8\u8ba4\u884c\u4e3a\n    readonly preventDefault: () => void\n\n    // \u662f\u5426\u5df2\u963b\u6b62\u4e8b\u4ef6\u9ed8\u8ba4\u884c\u4e3a\n    readonly defaultPrevented: boolean\n\n    // \u662f\u5426\u5df2\u5339\u914d\u5e76\u89e6\u53d1\u67d0\u4e2a\u5feb\u6377\u952e\n    readonly dispatched: boolean\n}\n")),Object(o.b)("p",null,"\u8fd9\u4e09\u8005\u7684\u57fa\u7840\u6837\u5f0f\u53ef\u5982\u4e0b\u6240\u793a\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-scss"},".container {\n  width: 400px;\n  height: 40px;\n  background: #ddd;\n}\n\n.rail {\n  height: 40px;\n  margin: 0 20px;\n  position: relative;\n}\n\n.thumb {\n  width: 40px;\n  height: 40px;\n  background: #000;\n\n  position: absolute;\n  left: 0;\n  top: 0;\n  transform: translate(-20px, -19px);\n}\n")))}c.isMDXComponent=!0},94:function(n,e,t){"use strict";t.d(e,"a",(function(){return p})),t.d(e,"b",(function(){return m}));var r=t(0),a=t.n(r);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function u(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var s=a.a.createContext({}),c=function(n){var e=a.a.useContext(s),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},p=function(n){var e=c(n.components);return a.a.createElement(s.Provider,{value:e},n.children)},b={inlineCode:"code",wrapper:function(n){var e=n.children;return a.a.createElement(a.a.Fragment,{},e)}},d=a.a.forwardRef((function(n,e){var t=n.components,r=n.mdxType,o=n.originalType,l=n.parentName,s=u(n,["components","mdxType","originalType","parentName"]),p=c(t),d=r,m=p["".concat(l,".").concat(d)]||p[d]||b[d]||o;return t?a.a.createElement(m,i(i({ref:e},s),{},{components:t})):a.a.createElement(m,i({ref:e},s))}));function m(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var o=t.length,l=new Array(o);l[0]=d;var i={};for(var u in e)hasOwnProperty.call(e,u)&&(i[u]=e[u]);i.originalType=n,i.mdxType="string"==typeof n?n:r,l[1]=i;for(var s=2;s<o;s++)l[s]=t[s];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);